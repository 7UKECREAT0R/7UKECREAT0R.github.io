<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#DE3358"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-10-28T00:43:05.6328059"><title>Preprocessor | MCCompiled Wiki</title><script type="application/json" id="virtual-toc-data">[{"id":"defining","level":0,"title":"Defining","anchor":"#defining"},{"id":"dereferencing","level":0,"title":"Introduction to Dereferencing","anchor":"#dereferencing"},{"id":"dereferencing-using-indexer","level":0,"title":"Dereferencing using Indexer","anchor":"#dereferencing-using-indexer"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link rel="icon" type="image/x-icon" sizes="16x16" href="images/favicon.ico"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Preprocessor | MCCompiled Wiki"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="MCCompiled Wiki Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://lukecreator.dev/mccompiled/docs/mccompiled/docs/1.19/preprocessor.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Preprocessor | MCCompiled Wiki"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://lukecreator.dev/mccompiled/docs/mccompiled/docs/1.19/preprocessor.html#webpage",
    "url": "https://lukecreator.dev/mccompiled/docs/mccompiled/docs/1.19/preprocessor.html",
    "name": "Preprocessor | MCCompiled Wiki",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://lukecreator.dev/mccompiled/docs/mccompiled/docs/#website",
    "url": "https://lukecreator.dev/mccompiled/docs/mccompiled/docs/",
    "name": "MCCompiled Wiki Help"
}</script><!-- End Schema.org --></head><body data-id="Preprocessor" data-main-title="Preprocessor" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Language.md|Language"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MCCompiled Wiki 1.19 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Preprocessor" id="Preprocessor.md">Preprocessor</h1><p id="v2utm5_3">The preprocessor is a powerful collection of features aimed at doing as much work during compile time as possible. It contains features for code generation, data driving via. JSON files, macros, testing, and so much more. The preprocessor offers a guarantee that any code using it will <span class="control" id="v2utm5_7">always</span> run at compile time, and that you will <span class="control" id="v2utm5_8">only</span> get compile-time errors.</p><section class="chapter"><h2 id="defining" data-toc="defining">Defining</h2><p id="v2utm5_9">To define a preprocessor variable, use the <code class="code" id="v2utm5_12">$var</code> keyword followed by the variable name and its value(s). Here's the simplest example:</p><div class="code-block" data-lang="ts">
$var name &quot;Luke&quot;
$var time 120
</div><section class="chapter"><h3 id="defining-with-multiple-values-arrays" data-toc="defining-with-multiple-values-arrays">Defining with Multiple Values (arrays)</h3><p id="v2utm5_13">A preprocessor variable can hold more than one value, making it an <span class="control" id="v2utm5_16">array</span>. Each value should be specified on the same line, separated by a space.</p><div class="code-block" data-lang="ts">
$var names &quot;Luke&quot; &quot;John&quot; &quot;Matt&quot;
</div><aside class="prompt" data-type="note" data-title="Defining with No Values" id="v2utm5_15"><p id="v2utm5_17">There are also specific cases where you may want to define a preprocessor variable with <span class="emphasis" id="v2utm5_19">no values</span>.</p><p id="v2utm5_18">The <code class="code" id="v2utm5_20">$var</code> command supports having no inputs other than the variable name, if needed.</p></aside></section></section><section class="chapter"><h2 id="dereferencing" data-toc="dereferencing">Introduction to Dereferencing</h2><p id="v2utm5_21">Generally, anything marked with a dollar sign <code class="code" id="v2utm5_26">$</code> is part of preprocessor code. It is going to affect the compiled result in some way, but it doesn&rsquo;t directly contribute to its contents. The simplest example of how the preprocessor could be used is the following example:</p><div class="code-block" data-lang="ts">
$var text &quot;This is some reusable text!&quot;

print &quot;Need some text? $text&quot;
</div><p id="v2utm5_23">In this example, a preprocessor variable is defined using <code class="code" id="v2utm5_27">$var</code>&mdash;it's given the name &quot;text&quot; and the value &quot;This is some reusable text!&quot; Then, the variable is dereferenced (inserted) into a print command's contents. There are no runtime changes happening here, the preprocessor variable is baked into the string at <span class="emphasis" id="v2utm5_28">compile time</span>. It works like a constant here.</p><p id="v2utm5_24">Notice how dereferencing a preprocessor variable uses the dollar sign <code class="code" id="v2utm5_29">$</code>. Preprocessor variables aren&rsquo;t just limited to strings, but many types of items. Anywhere it is dereferenced, its contents will be placed as if they were in the original code. Dereferencing is always the first step taken by MCCompiled when analyzing a statement.</p><section class="chapter"><h3 id="example-using-arrays" data-toc="example-using-arrays">Example Using Arrays</h3><div class="code-block" data-lang="ts">
$var spawnLocation 651 -5291 102

tp @a $spawnLocation
</div><p id="v2utm5_31">This example is much more interesting. We store three coordinates in the preprocessor variable &quot;spawnLocation.&quot; We were then able to dereference it to fulfill <span class="emphasis" id="v2utm5_33">all three arguments of the <code class="code" id="v2utm5_34">tp</code> command at once</span>. You can think of this dereferencing as a copying of the contents from &quot;spawnLocation&quot; directly into the source code.</p><p id="v2utm5_32">You can likely see how this concept can be utilized to quickly and easily create code at compile time, as well as drive code using data.</p></section></section><section class="chapter"><h2 id="dereferencing-using-indexer" data-toc="dereferencing-using-indexer">Dereferencing using Indexer</h2><p id="v2utm5_35">You can also use an indexer to dereference a specific part of the preprocessor variable. When using an indexer, the variable is <span class="emphasis" id="v2utm5_43">implicitly</span> dereferenced. The reason for this is that there is a semantic difference between <code class="code" id="v2utm5_44">$a[0]</code> and <code class="code" id="v2utm5_45">a[0]</code>.</p><p id="v2utm5_36">As defined in the <a href="values.html#complex" id="v2utm5_46" data-tooltip="MCCompiled fully supports the use of operations inline, as well as PEMDAS ordering. Using inline operations keeps code size way down and communicates its purpose much more clearly than separating operations per-line.">order-of-operations</a>, MCCompiled <span class="emphasis" id="v2utm5_47">always</span> evaluates a dereference operation <code class="code" id="v2utm5_48">$</code> before it evaluates an indexing operation. Consider the following example:</p><div class="code-block" data-lang="ts">
$var text &quot;Example&quot;
</div><p id="v2utm5_38">We've defined a variable called &quot;text&quot; which contains one string, being &quot;Example.&quot; If you dereference the preprocessor variable before indexing, you're just indexing the string because dereferences come before indexing:</p><section class="procedure-steps"><h3 id="v2utm5_39" data-toc="v2utm5_39">Steps (dereferencing)</h3><ol class="list _decimal"><li class="list__item" id="v2utm5_49"><p><code class="code" id="v2utm5_52">$text[0]</code></p></li><li class="list__item" id="v2utm5_50"><p><code class="code" id="v2utm5_53">&quot;Example&quot;[0]</code></p></li><li class="list__item" id="v2utm5_51"><p><code class="code" id="v2utm5_54">&quot;E&quot;</code></p></li></ol></section><p id="v2utm5_40">Without the dereference, you're indexing the preprocessor variable directly, which fetches an element from it and dereferences just that element.</p><section class="procedure-steps"><h3 id="v2utm5_41" data-toc="v2utm5_41">Steps (not dereferencing)</h3><ol class="list _decimal"><li class="list__item" id="v2utm5_55"><p><code class="code" id="v2utm5_57">text[0]</code></p></li><li class="list__item" id="v2utm5_56"><p><code class="code" id="v2utm5_58">&quot;Example&quot;</code></p></li></ol></section><aside class="prompt" data-type="tip" data-title="" id="v2utm5_42"><p id="v2utm5_59">You can imagine this is much more useful if you have a preprocessor variable with multiple elements in it, rather than just one.</p></aside></section><div class="last-modified">Last modified: 28 October 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="playsound.html" class="navigation-links__prev">Playsound</a><a href="simple-variable-commands.html" class="navigation-links__next">Simple Variable Commands</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>
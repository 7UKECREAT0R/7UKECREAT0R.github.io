<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#DE3358"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-05-10T08:03:13.4414769"><title>Functions | MCCompiled Wiki</title><script type="application/json" id="virtual-toc-data">[{"id":"defining-functions","level":0,"title":"Defining Functions","anchor":"#defining-functions"},{"id":"calling-functions","level":0,"title":"Calling Functions","anchor":"#calling-functions"},{"id":"return-values","level":0,"title":"Return Values","anchor":"#return-values"},{"id":"exports","level":0,"title":"Exports","anchor":"#exports"},{"id":"attributes","level":0,"title":"Attributes","anchor":"#attributes"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="icon" type="image/x-icon" sizes="16x16" href="images/favicon.ico"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Functions | MCCompiled Wiki"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="MCCompiled Wiki Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://lukecreator.dev/mccompiled/docs/mccompiled/docs/1.18.1/functions.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Functions | MCCompiled Wiki"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://lukecreator.dev/mccompiled/docs/mccompiled/docs/1.18.1/functions.html#webpage",
    "url": "https://lukecreator.dev/mccompiled/docs/mccompiled/docs/1.18.1/functions.html",
    "name": "Functions | MCCompiled Wiki",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://lukecreator.dev/mccompiled/docs/mccompiled/docs/#website",
    "url": "https://lukecreator.dev/mccompiled/docs/mccompiled/docs/",
    "name": "MCCompiled Wiki Help"
}</script><!-- End Schema.org --></head><body data-id="Functions" data-main-title="Functions" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Language.md|Language///Runtime.md|Runtime"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>MCCompiled Wiki 1.18.1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Functions" id="Functions.md">Functions</h1><p id="-n1tuhw_1709">Functions work similarly to regular <code class="code" id="-n1tuhw_1710">.mcfunction</code>s, but contain extra utility to make them work more like programming functions. At its most basic level, a function can be used to create a new <code class="code" id="-n1tuhw_1711">.mcfunction</code> file and place code in it.</p><section class="chapter"><h2 id="defining-functions" data-toc="defining-functions">Defining Functions</h2><p id="-n1tuhw_1712">Functions are defined using the <code class="code" id="-n1tuhw_1713">function</code> command. The command itself is very dynamic and accepts lots of different kinds of inputs; however, it always requires a function name.</p><p id="-n1tuhw_1714">A <a href="syntax.html#blocks" id="-n1tuhw_1715" data-tooltip="MCCompiled introduces a new concept to commands called &quot;blocks.&quot; Blocks are just chunks of statements surrounded with curly braces {}. The opening curly brace can be included on its own line, or at the end of a statement; it's down to preference.">code block</a> must always follow function definitions. The code in this block is what will go into the defined function.</p><div class="code-block" data-lang="ts">
function example {
    print &quot;Heyo, what's up?&quot;
}
</div><aside class="prompt" data-type="tip" data-title="" id="-n1tuhw_1717"><p id="-n1tuhw_1718">Upon testing these examples, you may notice that there is no function outputted. This is because functions which are unused aren't exported unless called by another exported function, or marked with the <a href="attributes.html#export_examples" id="-n1tuhw_1719" data-tooltip="Excluding unused files is beneficial for many projects, but sometimes you'll have functions you run in-game through a command block, the /function command, or other methods MCCompiled doesn't know about. The export attribute covers those edge cases. In this example, the user wants…"><code class="code" id="-n1tuhw_1720">export</code> attribute</a>. See more about this topic <a href="#exports" id="-n1tuhw_1721" data-tooltip="When a function is not used anywhere in your code, it is not included in the compiled output unless given the export attribute. So, what constitutes as a function being &quot;used&quot;?">below</a>.</p></aside><section class="chapter"><h3 id="parameters" data-toc="parameters">Parameters</h3><p id="-n1tuhw_1722">Functions can be defined with parameters, which must be specified whenever the function is called. Parameter definitions use the same syntax as <a href="values.html#defining-values" id="-n1tuhw_1723" data-tooltip="Defining a value is done using the syntax define [type] [name]. The most common type is int, short for integer. An integer can be any whole number between -2147483648 and 2147483647. It's versatile, and is the closest to a Minecraft scoreboard objective.">values</a>, but without the keyword <code class="code" id="-n1tuhw_1724">define</code>. Functions are very flexible with how you can specify parameters, but the most widely accepted way is by placing them inside parentheses <code class="code" id="-n1tuhw_1725">()</code> and separating them by commas <code class="code" id="-n1tuhw_1726">,</code>.</p><p id="-n1tuhw_1727">The following example shows defining a function called &quot;awardPoints&quot; with a single parameter, being the number of points to award.</p><div class="code-block" data-lang="ts">
function awardPoints(int amount) {
    points += amount
}
</div><aside class="prompt" data-type="note" data-title="" id="-n1tuhw_1729"><p id="-n1tuhw_1730">None of the syntax shown here is necessary for the code to compile, but it helps show readers which parts are the parameters, and the boundaries between them.</p></aside><section class="chapter"><h4 id="optional-parameters" data-toc="optional-parameters">Optional Parameters</h4><p id="-n1tuhw_1731">If you want to make a parameter optional, you need to give it a default value that will be specified automatically if it's omitted. This is done using the assignment operator <code class="code" id="-n1tuhw_1732">=</code>, and the default value. Once you specify an optional parameter, every parameter that follows must also be optional.</p><p id="-n1tuhw_1733">The following example shows the &quot;awardPoints&quot; function with its &quot;amount&quot; parameter optional such that if the caller doesn't specify an amount, it will default to 1.</p><div class="code-block" data-lang="ts">
function awardPoints(int amount = 1) {
    points += amount
}
</div></section></section><section class="chapter"><h3 id="using-folders" data-toc="using-folders">Using Folders</h3><p id="-n1tuhw_1735">When defining a function, the dots <code class="code" id="-n1tuhw_1736">.</code> in its name act as path separators for the folder it will go in. When the function is exported to an <code class="code" id="-n1tuhw_1737">.mcfunction</code> file, it will be placed in the folder. The following example shows creating a function which will be placed in a subfolder:</p><div class="code-block" data-lang="ts">
function scoring.reset() {
    points[*] = 0
}
</div><p id="-n1tuhw_1739">The compiled function is then located at <code class="code" id="-n1tuhw_1740">scoring/reset.mcfunction</code>. Using folders is a good way to group functions based on what they do, increasing clarity for both the writer of the code and the reader.</p></section></section><section class="chapter"><h2 id="calling-functions" data-toc="calling-functions">Calling Functions</h2><p id="-n1tuhw_1741">Now that you have functions, you need to be able to use them. Running a function is also known as &quot;calling&quot; it. The syntax of calling a function is <code class="code" id="-n1tuhw_1742">functionName(parameters)</code>.</p><p id="-n1tuhw_1743">If the function doesn't have any parameters (or its parameters are all <a href="#optional-parameters" id="-n1tuhw_1744" data-tooltip="If you want to make a parameter optional, you need to give it a default value that will be specified automatically if it's omitted. This is done using the assignment operator =, and the default value. Once you specify an optional parameter, every parameter that follows must also be…">optional</a>), you still need the parentheses to tell MCCompiled that you want to call the function: <code class="code" id="-n1tuhw_1745">functionName()</code></p><p id="-n1tuhw_1746">The following example calls the awardPoints defined in the earlier examples:</p><div class="code-block" data-lang="ts">
// award the player with five points
awardPoints(5)

// award the player with a single point
awardPoints()
</div></section><section class="chapter"><h2 id="return-values" data-toc="return-values">Return Values</h2><p id="-n1tuhw_1748">Functions are able to send back a value after they're done running, called a &quot;return value.&quot; Return values are particularly useful in cases where the function is a utility for other code to use.</p><section class="chapter"><h3 id="returning-a-value" data-toc="returning-a-value">Returning a Value</h3><p id="-n1tuhw_1749">To return a value, use the <code class="code" id="-n1tuhw_1750">return</code> command. This will set the value that will be returned when the function ends. The return command, as of 1.16, does not stop the function immediately, but this is planned for a future version.</p><p id="-n1tuhw_1751">This example shows a more complicated function which computes the highest score of any player in the game and returns it to the caller:</p><div class="code-block" data-lang="ts">
function getHighestPoints {
    // keep track of the highest number of points so far
    define global int highestPoints = 0
    
    // loop over each player, seeing if their points are higher
    for @a {
        if points &gt; highestPoints
            highestPoints = points
    }
    
    // return the value to the caller
    return highestPoints
}
</div><section class="chapter"><h4 id="type-consistency" data-toc="type-consistency">Type Consistency</h4><p id="-n1tuhw_1753">If you have a <code class="code" id="-n1tuhw_1754">return</code> command somewhere in the function, every <code class="code" id="-n1tuhw_1755">return</code> command in that same function must return the same type. If you return a boolean somewhere in the function, you can't return an integer somewhere else.</p></section></section><section class="chapter"><h3 id="using-return-values" data-toc="using-return-values">Using Return Values</h3><p id="-n1tuhw_1756">Using a return value is done by using the function call as if it were a value. The following example builds on the <code class="code" id="-n1tuhw_1757">getHighestPoints</code> example shown above by using its return value. If the function returns more than 100, it's considered an &quot;ultra-high score&quot; and a title is shown to all players.</p><p id="-n1tuhw_1758">The title then calls the function again and displays its returned value in the message.</p><div class="code-block" data-lang="ts">
if getHighestPoints() &gt; 100 {
    title @a &quot;Achieved an ultra-high score of {getHighestPoints()}!&quot;
}
</div></section></section><section class="chapter"><h2 id="exports" data-toc="exports">Exports</h2><p id="-n1tuhw_1760">When a function is not used anywhere in your code, it is not included in the compiled output unless given the <a href="attributes.html#export_examples" id="-n1tuhw_1761" data-tooltip="Excluding unused files is beneficial for many projects, but sometimes you'll have functions you run in-game through a command block, the /function command, or other methods MCCompiled doesn't know about. The export attribute covers those edge cases. In this example, the user wants…"><code class="code" id="-n1tuhw_1762">export</code> attribute</a>. So, what constitutes as a function being &quot;used&quot;?</p><p id="-n1tuhw_1763">Any code in the top-level of your file, as in, not inside any block is <span class="emphasis" id="-n1tuhw_1764">always</span> marked as used. Any function marked for export will propagate that to any of the functions it calls. Any functions marked with the <a href="attributes.html#auto_examples" id="-n1tuhw_1765" data-tooltip="Anywhere tick.json is needed, or something needs to happen on a timer, the auto attribute saves lots of boilerplate code and clearly communicates which functions automatically run. In the example below, time suffixes are used instead of tick count. function auto everyTick { // logic…"><code class="code" id="-n1tuhw_1766">auto</code> attribute</a> are also marked as used.</p><div class="code-block" data-lang="ts">
function a() {}
function b() {
    a()
}
function c() {
    b()
}

// top level call
a()
</div><ul class="list _bullet" id="-n1tuhw_1768"><li class="list__item" id="-n1tuhw_1769"><p>In this example, only the function <code class="code" id="-n1tuhw_1770">a</code> is exported because it's the only one in use.</p></li><li class="list__item" id="-n1tuhw_1771"><p>If the top level call is changed to <code class="code" id="-n1tuhw_1772">b()</code>, then the functions <code class="code" id="-n1tuhw_1773">a</code> and <code class="code" id="-n1tuhw_1774">b</code> are both exported.</p></li><li class="list__item" id="-n1tuhw_1775"><p>If the top level call is changed to <code class="code" id="-n1tuhw_1776">c()</code>, then the functions <code class="code" id="-n1tuhw_1777">a</code>, <code class="code" id="-n1tuhw_1778">b</code> and <code class="code" id="-n1tuhw_1779">c</code> are exported.</p></li></ul></section><section class="chapter"><h2 id="attributes" data-toc="attributes">Attributes</h2><p id="-n1tuhw_1781">Attributes can change the way functions behave. Any number of attributes can be applied anywhere before the name. See <a href="attributes.html" id="-n1tuhw_1782" data-tooltip="Attributes are modifiers that change the way values or functions work. They can be specified in most places in definition commands (define or function).">attributes</a> for all attributes across the language.</p><dl id="-n1tuhw_1783" data-style="title-top"><dt id="-n1tuhw_1784" data-expandable="false">extern</dt><dd><p>Makes a function external. External functions cannot have code in them, and their parameter names are interpreted verbatim. These functions will call the <code class="code" id="-n1tuhw_1785">.mcfunction</code> that matches their name and folder, making them great for combining MCCompiled with optimized handwritten functions or code from non-MCCompiled users. </p><section class="chapter"><h3 id="extern_examples" data-toc="extern_examples">Examples &amp; Use-case</h3><p>In cases where you have an <code class="code" id="-n1tuhw_1786">.mcfunction</code> file that cannot be ported or is not necessary to port over, it's better to declare an external function; making it possible to call the <code class="code" id="-n1tuhw_1787">.mcfunction</code> directly. </p><div class="code-block" data-lang="ts">
            // BP/functions/library/example.mcfunction
            function extern library.example
            ‎
            library.example()
        </div></section></dd><dt id="-n1tuhw_1789" data-expandable="false">export</dt><dd><p>Marks a function for export. The function and any functions it calls will always be exported whether they're in use or not. See more about usage/exports <a href="#exports" id="-n1tuhw_1790" data-tooltip="When a function is not used anywhere in your code, it is not included in the compiled output unless given the export attribute. So, what constitutes as a function being &quot;used&quot;?">here.</a></p><section class="chapter"><h3 id="export_examples" data-toc="export_examples">Examples &amp; Use-case</h3><p>Excluding unused files is beneficial for many projects, but sometimes you'll have functions you run in-game through a command block, the <code class="code" id="-n1tuhw_1791">/function</code> command, or other methods MCCompiled doesn't know about. The export attribute covers those edge cases. In this example, the user wants to run <code class="code" id="-n1tuhw_1792">/function reset</code> in game. </p><div class="code-block" data-lang="ts">
            function export reset {
                kill @e[type=item]
                itemsCollected[*] = 0
                print &quot;Reset everything!&quot;
            }
        </div></section></dd><dt id="-n1tuhw_1794" data-expandable="false">auto</dt><dd><p>Makes the function automatically run every tick; or, if specified, at an interval. If the attribute is specified as-is, the function will be marked as &quot;in use&quot; and added to <code class="code" id="-n1tuhw_1795">tick.json</code>. If a parameter is given in ticks, the function will run on that interval using an auto-generated timer. </p><aside class="prompt" data-type="tip" data-title="" id="-n1tuhw_1796"><p>The auto attribute cannot be applied to functions with parameters.</p></aside><section class="chapter"><h3 id="auto_examples" data-toc="auto_examples">Examples &amp; Use-case</h3><p>Anywhere <code class="code" id="-n1tuhw_1797">tick.json</code> is needed, or something needs to happen on a timer, the auto attribute saves lots of boilerplate code and clearly communicates which functions automatically run. In the example below, <a href="syntax.html#time-suffixes" id="-n1tuhw_1798" data-tooltip="Numbers support suffixing to better represent time. A simple example of this is 4s, which when be represented as ticks, evaluates to 80. Time suffixes offer the advantage of being context-aware. If a command requires an input in seconds, the seconds suffix s will not apply any…">time suffixes</a> are used instead of tick count. </p><div class="code-block" data-lang="ts">
            function auto everyTick {
                // logic to run every tick.
            }
            function auto(1s) everySecond {
                // logic to run once a second.
            }
        </div></section></dd><dt id="-n1tuhw_1800" data-expandable="false">partial</dt><dd><p>Makes a function <span class="emphasis" id="-n1tuhw_1801">partially implemented</span>. When a function is partial, you can re-define it later as many times as you want, with each one appending its contents to the original function. </p><section class="chapter"><h3 id="partial_examples" data-toc="partial_examples">Examples &amp; Use-case</h3><p>Partial functions are useful with <a href="metaprogramming.html" id="-n1tuhw_1802" data-tooltip="The preprocessor is an incredibly powerful tool, so this page goes over how to use it in a more advanced way to both generate and use functions and values with fully dynamic names.">metaprogramming</a> or forward declaration, where you may want to use a function before its actual implementation. The following example shows how a function can be defined in two different places with their results merged. </p><div class="code-block" data-lang="ts">
            function partial example {
                print &quot;One!&quot;
            }
            function partial example {
                print &quot;Two!&quot;
            }
            ‎
            example()
            // One!
            // Two!
        </div></section></dd></dl></section><div class="last-modified">Last modified: 10 May 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="types.html" class="navigation-links__prev">Types</a><a href="async.html" class="navigation-links__next">Async</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>